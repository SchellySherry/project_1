<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ランダム再生ループプレイヤー</title>
  <style>
    html, body {
      margin: 0;
      padding: 0;
      height: 100%;
      background: black;
      overflow: hidden;
    }
    video {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }
  </style>
</head>
<body>
  <video id="player" autoplay muted playsinline></video>

  <script>
    // ====== 動画リスト ======
    const videos = [
      "videos/1.mp4",
      "videos/2.mp4",
      "videos/3.mp4",
      "videos/4.mp4",
      "videos/5.mp4",
      "videos/6.mp4",
      "videos/7.mp4",
      "videos/8.mp4",
      "videos/9.mp4",
      "videos/10.mp4",
      "videos/11.mp4",
      "videos/12.mp4",
      "videos/13.mp4",
      "videos/14.mp4",
      "videos/15.mp4",
      "videos/16.mp4",
      "videos/17.mp4",
      "videos/18.mp4",
      "videos/19.mp4",
      "videos/20.mp4",
      "videos/21.mp4",
      "videos/22.mp4",
      "videos/023.mp4",
      "videos/23.mp4",
      "videos/024.mp4",
      "videos/24.mp4",
      "videos/25.mp4",
      "videos/26.mp4",
      "videos/27.mp4",
      "videos/28.mp4",
      "videos/29.mp4",
      "videos/30.mp4",
      "videos/31.mp4",
      "videos/32.mp4",
      "videos/33.mp4",
      "videos/34.mp4",
      "videos/35.mp4",
      "videos/36.mp4",
      "videos/37.mp4",
      "videos/38.mp4",
      "videos/39.mp4",
      "videos/40.mp4",
      "videos/41.mp4",
      "videos/42.mp4",
      "videos/43.mp4",
      "videos/44.mp4",
      "videos/45.mp4",
      "videos/46.mp4",
      "videos/47.mp4",
      "videos/48.mp4",
      "videos/49.mp4",
      "videos/50.mp4",
      "videos/51.mp4",
      "videos/52.mp4",
      "videos/53.mp4",
      "videos/54.mp4",
      "videos/55.mp4",
      "videos/56.mp4",
      "videos/57.mp4",
      "videos/58.mp4",
      "videos/59.mp4",
      "videos/60.mp4",
      "videos/61.mp4",
      "videos/62.mp4",
      "videos/63.mp4",
      "videos/64.mp4",
      "videos/65.mp4",
      "videos/66.mp4",
      "videos/67.mp4",
      "videos/68.mp4",
      "videos/69.mp4",
      "videos/70.mp4",
      "videos/71.mp4",
      "videos/72.mp4",
      "videos/73.mp4",
      "videos/74.mp4",
      "videos/75.mp4",
      "videos/76.mp4",
      "videos/77.mp4",
      "videos/78.mp4",
      "videos/79.mp4",
      "videos/80.mp4",
      "videos/81.mp4",
      "videos/82.mp4",
      "videos/83.mp4",
      "videos/84.mp4",
      "videos/85.mp4",
      "videos/86.mp4",
      "videos/87.mp4",
      "videos/88.mp4",
      "videos/89.mp4",
      "videos/90.mp4",
      "videos/91.mp4",
      "videos/92.mp4",
      "videos/93.mp4",
      "videos/94.mp4",
      "videos/95.mp4",
      "videos/96.mp4",
      "videos/97.mp4",
      "videos/98.mp4",
      "videos/99.mp4",
      "videos/100.mp4",
      "videos/101.mp4",
      "videos/102.mp4",
      "videos/103.mp4",
      "videos/104.mp4",
      "videos/105.mp4",
      "videos/106.mp4",
      "videos/107.mp4",
      "videos/108.mp4",
      "videos/109.mp4",
      "videos/110.mp4",
      "videos/111.mp4",
      "videos/112.mp4",
      "videos/113.mp4",
      "videos/114.mp4",
      "videos/115.mp4",
      "videos/116.mp4",
      "videos/117.mp4",
      "videos/118.mp4",
      "videos/119.mp4",
      "videos/120.mp4",
      "videos/121.mp4",
      "videos/122.mp4",
      "videos/123.mp4",
      "videos/124.mp4",
      "videos/125.mp4",
      "videos/126.mp4",
      "videos/127.mp4",
      "videos/128.mp4",
      "videos/129.mp4",
      "videos/130.mp4",
      "videos/131.mp4",
      "videos/132.mp4",
      "videos/133.mp4",
      "videos/134.mp4",
      "videos/135.mp4",
      "videos/136.mp4",
      "videos/137.mp4",
      "videos/138.mp4",
      "videos/139.mp4",
      "videos/140.mp4",
      "videos/141.mp4",
      "videos/142.mp4",
      "videos/143.mp4",
      "videos/144.mp4",
      "videos/145.mp4",
      "videos/146.mp4",
      "videos/147.mp4",
      "videos/148.mp4",
      "videos/149.mp4",
      "videos/150.mp4",
      "videos/151.mp4",
      "videos/152.mp4",
      "videos/153.mp4",
      "videos/154.mp4",
      "videos/155.mp4",
      "videos/156.mp4",
      "videos/157.mp4",
      "videos/158.mp4",
      "videos/159.mp4",
      "videos/160.mp4",
      "videos/161.mp4",
      "videos/162.mp4",
      "videos/163.mp4",
      "videos/164.mp4",
      "videos/165.mp4",
      "videos/166.mp4",
      "videos/167.mp4",
      "videos/168.mp4",
      "videos/169.mp4",
      "videos/170.mp4",
      "videos/171.mp4",
      "videos/172.mp4",
      "videos/173.mp4",
      "videos/174.mp4",
      "videos/175.mp4",
      "videos/176.mp4",
      "videos/177.mp4",
      "videos/178.mp4",
      "videos/179.mp4",
      "videos/180.mp4",
      "videos/181.mp4",
      "videos/182.mp4",
      "videos/183.mp4",
      "videos/184.mp4",
      "videos/185.mp4",
      "videos/186.mp4",
      "videos/187.mp4",
      "videos/188.mp4",
      "videos/189.mp4",
      "videos/190.mp4",
      "videos/191.mp4",
      "videos/192.mp4",
      "videos/193.mp4",
      "videos/194.mp4",
      "videos/195.mp4",
      "videos/196.mp4",
      "videos/197.mp4",
      "videos/198.mp4",
      "videos/199.mp4",
      "videos/200.mp4",
      "videos/201.mp4",
      "videos/202.mp4",
      "videos/205.mp4",
      "videos/206.mp4",
      "videos/207.mp4",
      "videos/208.mp4",
      "videos/209.mp4",
      "videos/210.mp4",
      "videos/211.mp4",
      "videos/212.mp4",
      "videos/213.mp4",
      "videos/214.mp4",
      "videos/215.mp4",
      "videos/216.mp4",
      "videos/217.mp4",
      "videos/218.mp4",
      "videos/219.mp4",
      "videos/220.mp4",
      "videos/221.mp4",
      "videos/222.mp4",
      "videos/223.mp4",
      "videos/224.mp4",
      "videos/225.mp4",
      "videos/226.mp4",
      "videos/227.mp4",
      "videos/228.mp4",
      "videos/229.mp4",
      "videos/230.mp4",
      "videos/231.mp4",
      "videos/232.mp4",
      "videos/233.mp4",
      "videos/234.mp4",
      "videos/235.mp4",
      "videos/236.mp4",
      "videos/237.mp4",
      "videos/238.mp4",
      "videos/239.mp4",
      "videos/240.mp4",
      "videos/241.mp4",
      "videos/242.mp4",
      "videos/243.mp4",
      "videos/244.mp4",
      "videos/245.mp4",
      "videos/246.mp4",
      "videos/247.mp4",
      "videos/248.mp4",
      "videos/249.mp4",
      "videos/250.mp4",
      "videos/251.mp4",
      "videos/252.mp4",
      "videos/253.mp4",
      "videos/254.mp4",
      "videos/255.mp4",
      "videos/256.mp4",
      "videos/257.mp4",
      "videos/258.mp4",
      "videos/259.mp4",
      "videos/260.mp4",
      "videos/261.mp4",
      "videos/262.mp4",
      "videos/263.mp4",
      "videos/264.mp4",
      "videos/265.mp4",
      "videos/266.mp4",
      "videos/267.mp4",
      "videos/268.mp4",
      "videos/269.mp4",
      "videos/270.mp4",
      "videos/271.mp4",
      "videos/272.mp4",
      "videos/273.mp4",
      "videos/274.mp4",
      "videos/275.mp4",
      "videos/276.mp4",
      "videos/277.mp4",
      "videos/278.mp4",
      "videos/279.mp4",
      "videos/280.mp4",
      "videos/281.mp4",
      "videos/282.mp4",
      "videos/283.mp4",
      "videos/284.mp4",
      "videos/285.mp4",
];

    const player = document.getElementById("player");

    let order = 1; // 1 = 順方向, -1 = 逆方向
    let index = Math.floor(Math.random() * videos.length); // ランダム開始

    // ====== 再生関数 ======
    function playVideo() {
      player.src = videos[index];
      player.play().catch(() => {
        player.muted = true;
        player.play();
      });
    }

    // ====== 終了時処理 ======
    player.addEventListener("ended", () => {
      index += order;
      if (index >= videos.length || index < 0) {
        order = Math.random() < 0.5 ? 1 : -1;
        index = Math.floor(Math.random() * videos.length);
      }
      playVideo();
    });

    // ====== ページ読み込み時に再生 ======
    window.onload = () => {
      playVideo();
    };

    // ====== 🔊 クリックで音声を有効にする ======
    document.body.addEventListener("click", () => {
      player.muted = false; // ミュート解除
      player.play();
    }, { once: true });

  </script>
</body>
</html>
